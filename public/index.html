<!doctype html>
<html>
<head>
  <title>Pattern Master</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="stylesheets/screen.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/smoothness/jquery-ui-1.8.4.custom.css" />
</head>
<body>
<!-- Templates -->
<script type="text/mustache" id="pattern-form-template">
  <div id="pattern-{{_id}}" class="pattern">
    <form action="" method="post">
      <div class="item">
        <label for="item-name-{{_id}}">Name</label>
        <input name="name" id="item-name-{{_id}}" value="{{^new}}{{name}}{{/new}}" />
      </div>
      <div class="item">
        <label for="item-tags-{{_id}}">Tags</label>
        <textarea name="tags" id="item-tags-{{_id}}">{{tags}}</textarea>
      </div>
      <div class="item">
        <label for="item-description-{{_id}}">Description</label>
        <textarea name="description" id="item-description-{{_id}}">{{description}}</textarea>
      </div>
      <div class="item">
        <label for="item-publication-{{_id}}">Publication</label>
        <input name="publication" id="item-publication-{{_id}}" value="{{publication}}" />
      </div>
      <div class="item">
        <label for="item-date-{{_id}}">Date</label> <input type="date" name="date" id="item-date-{{_id}}" value="{{date}}" />
      </div>
      <div class="item">
        <label for="item-notes-{{_id}}">Notes</label>
        <textarea name="notes" id="item-notes-{{_id}}">{{notes}}</textarea>
      </div>
      {{^new}}
      <div style="display:none;">
        <input type="hidden" name="_id" value="{{_id}}" />
        <input type="hidden" name="_rev" value="{{_rev}}" />
      </div>
      {{/new}}
      <button>{{#new}}Create{{/new}}{{^new}}Update{{/new}}</button>
    </form>
  </div>
</script>
<script type="text/mustache" id="search-results-template">
  <ul>
  {{#rows}}
  <li><a href="#{{id}}">{{#doc}}{{name}}{{/doc}}</a></li>
  {{/rows}}
  {{^rows}}<li>Nothing found.</li>{{/rows}}
  </ul>
</script>
<div id="main">
  <header><h1>Pattern Master</h1></header>
  <div id="tabs">
    <ul>
      <li class="search"><a href="#search">Search</a></li>
    </ul>
    <div id="search">
      <form action="" method="get">
        <input type="search" name="tags" id="search-tags" />
        <button>Search</button>
      </form>
      <div id="results"></div>
    </div>
  </div>
</div>
<script src="js/jquery.js"></script>
<script>require(["main"]);</script>
</body>
</html>
